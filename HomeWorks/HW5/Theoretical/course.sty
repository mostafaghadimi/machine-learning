% Course Assignments Style
% By: Hamid Zarrabi-Zadeh
% Licenced Under GPL


\usepackage{graphicx,comment,framed}
\usepackage{amsthm,amssymb,amsmath}
%\usepackage[usenames,dvipsnames]{pstricks}
\usepackage{color,xcolor,colortbl}
\usepackage{setspace}
\usepackage{listings}
\usepackage{xepersian}


%--------------------- page settings ----------------------

\addtolength{\textheight}{3.2cm}
\addtolength{\topmargin}{-22mm}
\addtolength{\textwidth}{2cm}
\addtolength{\oddsidemargin}{-1cm}
%\setlength{\parskip}{.2em}

\renewcommand{\labelitemi}{$\small\bullet$}
\renewcommand{\arraystretch}{1.3}


%------------------------ Environments ------------------------------------

\newtheorem{قضیه}{قضیه}
\newtheorem{لم}{لم}
\newtheorem{مشاهده}{مشاهده}
\newtheorem{تعریف}{تعریف}


%-------------------------- Notations ------------------------------------

\newcommand{\IR}{\ensuremath{\mathbb{R}}}
\newcommand{\IZ}{\ensuremath{\mathbb{Z}}}
\newcommand{\IN}{\ensuremath{\mathbb{N}}}
\newcommand{\IS}{\ensuremath{\mathbb{S}}}
\newcommand{\IC}{\ensuremath{\mathbb{C}}}
\newcommand{\IB}{\ensuremath{\mathbb{B}}}

\newcommand{\bR}{\mathbb{R}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\rM}{\mathrm{M}}
\newcommand{\rC}{\mathrm{C}}
\newcommand{\rV}{\mathrm{V}}

\newcommand{\ceil}[1]{{\left\lceil{#1}\right\rceil}}
\newcommand{\floor}[1]{{\left\lfloor{#1}\right\rfloor}}
\newcommand{\prob}[1]{{\mbox{\tt Pr}[#1]}}
\newcommand{\set}[1]{{\{ #1 \}}}
\newcommand{\seq}[1]{{\left< #1 \right>}}
\newcommand{\provided}{\,:\,}
\newcommand{\poly}{\mbox{\rm poly}}
\newcommand{\polylog}{\mbox{\rm \scriptsize polylog}\,}
\newcommand{\divs}{\ | \ }
\newcommand{\congruent}[1]{\,\overset{#1}{\equiv}\,}

\newcommand{\lee}{\leqslant}
\newcommand{\gee}{\geqslant}
\renewcommand{\leq}{\lee}
\renewcommand{\le}{\lee}
\renewcommand{\geq}{\gee}
\renewcommand{\ge}{\gee}

%\newcommand{\حذف}[1]{}
\newcommand{\mrbox}[1]{\mbox{\lr{#1}}}
\newcommand{\لر}{\lr}


\newcounter{probcnt}
\newcommand{\سؤال}[1]{\stepcounter{probcnt}\bigskip\bigskip{
 	\Large \bf سؤال \arabic{probcnt}$\mbox{\bf{.}}$ \ #1} \bigskip}


% code
\newenvironment{code}
	{\begin{latin}\tt}
	{\end{latin}}

% comment
\definecolor{darkGreen}{rgb}{0,0.5,0}
\newcommand{\rem}{\textcolor{darkGreen}{\#} \textcolor{darkGreen}}

% comment
\definecolor{darkGreen}{rgb}{0,0.5,0}
\newcommand{\docstr}[1]{\ \\ \textcolor{darkGreen}{\ \ \ \ \# #1}}


%------------------------- Header -----------------------------

\newcommand{\سربرگ}[3]{
\parindent=0em

\hspace{0.5cm}
\includegraphics[width=2cm, height=2cm]{Sharif.png}

\vspace{-.2em}
\hspace{0.25cm}
{\scriptsize\bf دانشگاه صنعتی شریف }
\\
{\scriptsize\bf دانشکده‌ی مهندسی کامپیوتر}
\hfill {\small
}\\[-5em]
\leftline{\hfill\Large\bf
درس یادگیری ماشین
}\\[.8em]
\leftline{\hfill\bf
استاد سید عباس حسینی
}\\[1.6em]
\hrule height .12em
\normalsize
\vspace{1mm}
\makebox[5cm][r]{#1}
\hfill
\makebox[5cm][c]{\large #2}
\hfill
\makebox[5cm][l]{\small #3}
\vspace{1mm}
\hrule height .1em
}


% --------------------------- Persian Enumerations --------------------------

\def\harfi#1{\expandafter\@harfi\csname c@#1\endcsname}  			% alef, b, p, t, c, j, ...
\def\abjad#1{\expandafter\@abjad\csname c@#1\endcsname}		% alef, b, j, d, h, ...
\def\adadi#1{\expandafter\@adadi\csname c@#1\endcsname}			%	yek, dow, se, chahar, ...

\def\@harfi#1{\beginR\@@harfi#1\endR}
\def\@@harfi#1{%
\ifcase#1\or الف\or ب\or پ\or ت\or ث\or ج\or چ\or ح\or خ\or د\or ذ\or ر\or ز\or ژ\else\@ctrerr\fi}

\def\@abjad#1{\beginR\@@abjad#1\endR}
\def\@@abjad#1{%
\ifcase#1\or الف\or ب\or ج\or د\or ه\or و\or ز\or ح\or ط\or ی\or ک\or ل\or م\or ن\else\@ctrerr\fi}

\def\@adadi#1{\beginR\@@adadi#1\endR}
\def\@@adadi#1{%
   \ifcase#1 یک\or دو\or سه\or چهاد\or پنج\or شش\or هفت\or هشت\or نه\or ده\else\@ctrerr\fi}

\newcounter{alef}
\newenvironment{ابجد}{
	\setcounter{alef}{0}
	\begin{list} {\abjad{alef})}
	{\usecounter{alef}}}
	{\end{list}}

\newenvironment{الفبا}{
	\setcounter{alef}{0}
	\begin{list} {\harfi{alef})}
	{\usecounter{alef}}}
	{\end{list}}


% ------------------------------ sample input/output --------------------------

\def\s@tm@cr@s{%
\def\widthin##1{\exmpwidinf=##1\relax}\def\widthout##1{\exmpwidouf=##1\relax}%
\def\stretchin##1{\advance\exmpwidinf by ##1\relax}%
\def\stretchout##1{\advance\exmpwidouf by ##1\relax}%
%\def\testst@r{\@ifstar{{\tt [*] is deprected, you need not use it any more}}{}}%
}%

\newenvironment{example*}[3][]{%
\bigskip\medskip
\s@tm@cr@s\ttfamily\obeylines\obeyspaces\frenchspacing%\testst@r#1%
\newcommand{\exmp}[2]{%
\begin{minipage}[t]{#2}\rightskip=0pt plus 1fill\relax##1\medskip\end{minipage}&%
\begin{minipage}[t]{#3}\rightskip=0pt plus 1fill\relax##2\medskip\end{minipage}\\%
\hline}%
\begin{tabular}{|l|l|}
\hline
\multicolumn{1}{|c|}{\bf\rl{ورودی نمونه }}&%
\multicolumn{1}{|c|}{\bf\rl{خروجی نمونه}}\\%
\hline
}
{\end{tabular}}

\newenvironment{example}
	{\begin{example*}{.47\textwidth}{.47\textwidth}}
	{\end{example*}}


%--------------------- color definitions ----------------------

\definecolor{bg}{HTML}{F8F8F8}
\definecolor{gray}{HTML}{808080}
\definecolor{lightgray}{HTML}{AAAAAA}
\definecolor{darkgreen}{HTML}{007020}
\definecolor{darkblue}{HTML}{002070}
\definecolor{darkbrown}{HTML}{C65D09}
\definecolor{comment}{HTML}{408090}
\definecolor{digit}{HTML}{208050}

\definecolor{سرجدول}{HTML}{FBC050}

%--------------------- code style ----------------------

%\renewcommand{\ttdefault}{pcr}
\lstset{
language=Python,                % choose the language of the code
basicstyle=\small\ttfamily,       % the size of the fonts that are used for the code
numbers=none,                   % where to put the line-numbers
numberstyle=\color{lightgray}\footnotesize,      % the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it is 1 each line will be numbered
numbersep=10pt,                  % how far the line-numbers are from the code
backgroundcolor=\color{bg},  % choose the background color. You must add \usepackage{color}
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,           % adds a frame around the code
tabsize=4,          % sets default tabsize to 2 spaces
captionpos=b,           % sets the caption-position to bottom
breaklines=true,        % sets automatic line breaking
breakatwhitespace=false,    % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},         % if you want to add a comment within your code
classoffset=1,morekeywords={SyntaxError},keywordstyle=\color{darkgreen},classoffset=0,
morecomment=[s][\color{darkbrown}\bfseries]{>>}{>},  %python command line
morecomment=[s][\color{darkbrown}\bfseries]{..}{.},  %python command line
keywords={and, as, assert, break, class, continue, def, del, elif, else, except, exec, finally, for, from, global, if, import, in, is, lambda, nonlocal, not, or, pass, raise, return, try, while, with, yield, True, False, None},
emph={type, print, input, int, str, float, list, range, max, min, help},
emphstyle=\color[HTML]{600090},
%otherkeywords={...},
keywordstyle=\bfseries\color{blue}, %black
commentstyle=\color{darkgreen}, %\itshape,
upquote=true,               % show normal quotes
stringstyle=\color{comment},
%identifierstyle=\color{darkblue},
rulecolor=\color[HTML]{CCCCCC},
xleftmargin=0.5em,
xrightmargin=0.5em,
framexleftmargin=0.2em,
framextopmargin=0.3em,
framexbottommargin=0.3em,
aboveskip=0.4em,
belowskip=\bigskipamount,
moredelim=[il][\color{black}]{|},
moredelim=[il][\color{red}]{@},
%moredelim=[il][\color{blue}]{!},
extendedchars=false
}

% code
\lstnewenvironment{prog}[1][]
	{\lstset{#1}\latin\singlespacing}
	{\persian}

\newcommand{\کد}[1]{\lr{\tt #1}}
